{"version":3,"file":"Debug.js","names":["_lodash","_interopRequireDefault","require","_functionPrototype","_isString","_isNumberObject","_isCallable","_isBooleanObject","_objectInspect","_hasown","_RSTTraversal","_getAdapter","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","booleanValue","Function","bind","call","Boolean","valueOf","typeName","node","adapter","getAdapter","displayNameOfNode","type","displayName","functionName","spaces","n","Array","join","indent","depth","string","split","map","x","concat","propString","prop","options","isString","inspect","String","quoteStyle","isNumber","Number","isBoolean","isCallable","verbose","propsString","props","propsOfNode","keys","Object","filter","key","indentChildren","childrenStrs","indentLength","length","isRSTNodeLike","hasOwn","nodeType","debugNode","arguments","undefined","escape","name","isValidElement","childrenOfNode","ignoreProps","beforeProps","afterProps","childrenIndented","nodeClose","debugNodes","nodes"],"sources":["../src/Debug.js"],"sourcesContent":["import escape from 'lodash.escape';\nimport functionName from 'function.prototype.name';\nimport isString from 'is-string';\nimport isNumber from 'is-number-object';\nimport isCallable from 'is-callable';\nimport isBoolean from 'is-boolean-object';\nimport inspect from 'object-inspect';\nimport hasOwn from 'hasown';\n\nimport {\n  propsOfNode,\n  childrenOfNode,\n} from './RSTTraversal';\nimport getAdapter from './getAdapter';\n\nconst booleanValue = Function.bind.call(Function.call, Boolean.prototype.valueOf);\n\nexport function typeName(node) {\n  const adapter = getAdapter();\n  if (adapter.displayNameOfNode) {\n    return getAdapter().displayNameOfNode(node) || 'Component';\n  }\n  return typeof node.type === 'function'\n    ? (node.type.displayName || functionName(node.type) || 'Component')\n    : node.type;\n}\n\nexport function spaces(n) {\n  return Array(n + 1).join(' ');\n}\n\nexport function indent(depth, string) {\n  return string.split('\\n').map((x) => `${spaces(depth)}${x}`).join('\\n');\n}\n\nfunction propString(prop, options) {\n  if (isString(prop)) {\n    return inspect(String(prop), { quoteStyle: 'double' });\n  }\n  if (isNumber(prop)) {\n    return `{${inspect(Number(prop))}}`;\n  }\n  if (isBoolean(prop)) {\n    return `{${inspect(booleanValue(prop))}}`;\n  }\n  if (isCallable(prop)) {\n    return `{${inspect(prop)}}`;\n  }\n  if (typeof prop === 'object') {\n    if (options.verbose) {\n      return `{${inspect(prop)}}`;\n    }\n\n    return '{{...}}';\n  }\n  return `{[${inspect(prop)}]}`;\n}\n\nfunction propsString(node, options) {\n  const props = propsOfNode(node);\n  const keys = Object.keys(props).filter((x) => x !== 'children');\n  return keys.map((key) => `${key}=${propString(props[key], options)}`).join(' ');\n}\n\nfunction indentChildren(childrenStrs, indentLength) {\n  return childrenStrs.length\n    ? `\\n${childrenStrs.map((x) => indent(indentLength, x)).join('\\n')}\\n`\n    : '';\n}\n\nfunction isRSTNodeLike(node) {\n  return hasOwn(node, 'nodeType')\n    && typeof node.nodeType === 'string'\n    && hasOwn(node, 'type')\n    && hasOwn(node, 'key')\n    && hasOwn(node, 'ref')\n    && hasOwn(node, 'instance')\n    && hasOwn(node, 'rendered');\n}\n\nexport function debugNode(node, indentLength = 2, options = {}) {\n  if (typeof node === 'string' || typeof node === 'number') return escape(node);\n  if (typeof node === 'function') {\n    const name = functionName(node);\n    return `[function${name ? ` ${name}` : ''}]`;\n  }\n  if (!node) return '';\n\n  const adapter = getAdapter();\n  if (!adapter.isValidElement(node) && !isRSTNodeLike(node)) {\n    return `{${inspect(node)}}`;\n  }\n\n  const childrenStrs = childrenOfNode(node)\n    .map((n) => debugNode(n, indentLength, options))\n    .filter(Boolean);\n  const type = typeName(node);\n\n  const props = options.ignoreProps ? '' : propsString(node, options);\n  const beforeProps = props ? ' ' : '';\n  const afterProps = childrenStrs.length\n    ? '>'\n    : ' ';\n  const childrenIndented = indentChildren(childrenStrs, indentLength);\n  const nodeClose = childrenStrs.length ? `</${type}>` : '/>';\n  return `<${type}${beforeProps}${props}${afterProps}${childrenIndented}${nodeClose}`;\n}\n\nexport function debugNodes(nodes, options = {}) {\n  return nodes.map((node) => debugNode(node, undefined, options)).join('\\n\\n\\n');\n}\n"],"mappings":"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","ignoreList":[]}